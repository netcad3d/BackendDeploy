{
  "version": 3,
  "sources": ["../../@kitware/vtk.js/Rendering/Core/RenderWindowInteractor/Constants.js", "../../@kitware/vtk.js/Rendering/Core/RenderWindowInteractor.js"],
  "sourcesContent": ["var Device = {\n  Unknown: 0,\n  LeftController: 1,\n  RightController: 2\n};\nvar Input = {\n  Unknown: 0,\n  Trigger: 1,\n  TrackPad: 2,\n  Grip: 3,\n  Thumbstick: 4,\n  A: 5,\n  B: 6,\n  ApplicationMenu: 7 // Not exposed in WebXR API\n\n};\nvar Axis = {\n  Unknown: 0,\n  TouchpadX: 1,\n  TouchpadY: 2,\n  ThumbstickX: 3,\n  ThumbstickY: 4\n};\nvar Constants = {\n  Device: Device,\n  Input: Input,\n  Axis: Axis\n};\n\nexport { Axis, Device, Input, Constants as default };\n", "import _toConsumableArray from '@babel/runtime/helpers/toConsumableArray';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport macro from '../../macros.js';\nimport { B as degreesFromRadians } from '../../Common/Core/Math/index.js';\nimport Constants from './RenderWindowInteractor/Constants.js';\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nvar Device = Constants.Device,\n    Input = Constants.Input;\nvar vtkWarningMacro = macro.vtkWarningMacro,\n    vtkErrorMacro = macro.vtkErrorMacro,\n    normalizeWheel = macro.normalizeWheel,\n    vtkOnceErrorMacro = macro.vtkOnceErrorMacro; // ----------------------------------------------------------------------------\n// Global methods\n// ----------------------------------------------------------------------------\n\nvar EMPTY_MOUSE_EVENT = new MouseEvent('');\nvar deviceInputMap = {\n  'xr-standard': [Input.Trigger, Input.Grip, Input.TrackPad, Input.Thumbstick, Input.A, Input.B]\n};\nvar handledEvents = ['StartAnimation', 'Animation', 'EndAnimation', 'PointerEnter', 'PointerLeave', 'MouseEnter', 'MouseLeave', 'StartMouseMove', 'MouseMove', 'EndMouseMove', 'LeftButtonPress', 'LeftButtonRelease', 'MiddleButtonPress', 'MiddleButtonRelease', 'RightButtonPress', 'RightButtonRelease', 'KeyPress', 'KeyDown', 'KeyUp', 'StartMouseWheel', 'MouseWheel', 'EndMouseWheel', 'StartPinch', 'Pinch', 'EndPinch', 'StartPan', 'Pan', 'EndPan', 'StartRotate', 'Rotate', 'EndRotate', 'Button3D', 'Move3D', 'StartPointerLock', 'EndPointerLock', 'StartInteraction', 'Interaction', 'EndInteraction', 'AnimationFrameRateUpdate'];\n\nfunction preventDefault(event) {\n  if (event.cancelable) {\n    event.preventDefault();\n  }\n}\n\nfunction pointerCacheToPositions(cache) {\n  var positions = Object.create(null);\n  cache.forEach(function (_ref) {\n    var pointerId = _ref.pointerId,\n        position = _ref.position;\n    positions[pointerId] = position;\n  });\n  return positions;\n} // ----------------------------------------------------------------------------\n// vtkRenderWindowInteractor methods\n// ----------------------------------------------------------------------------\n\n\nfunction vtkRenderWindowInteractor(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkRenderWindowInteractor'); // Initialize list of requesters\n\n  var animationRequesters = new Set(); // map from pointerId to { pointerId: number, position: [x, y] }\n\n  var pointerCache = new Map(); // Public API methods\n  //----------------------------------------------------------------------\n\n  publicAPI.start = function () {\n    // Let the compositing handle the event loop if it wants to.\n    // if (publicAPI.HasObserver(vtkCommand::StartEvent) && !publicAPI.HandleEventLoop) {\n    //   publicAPI.invokeEvent({ type: 'StartEvent' });\n    //   return;\n    // }\n    // As a convenience, initialize if we aren't initialized yet.\n    if (!model.initialized) {\n      publicAPI.initialize();\n\n      if (!model.initialized) {\n        return;\n      }\n    } // Pass execution to the subclass which will run the event loop,\n    // this will not return until TerminateApp is called.\n\n\n    publicAPI.startEventLoop();\n  }; //----------------------------------------------------------------------\n\n\n  publicAPI.setRenderWindow = function (aren) {\n    vtkErrorMacro('you want to call setView(view) instead of setRenderWindow on a vtk.js interactor');\n  }; //----------------------------------------------------------------------\n\n\n  publicAPI.setInteractorStyle = function (style) {\n    if (model.interactorStyle !== style) {\n      if (model.interactorStyle != null) {\n        model.interactorStyle.setInteractor(null);\n      }\n\n      model.interactorStyle = style;\n\n      if (model.interactorStyle != null) {\n        if (model.interactorStyle.getInteractor() !== publicAPI) {\n          model.interactorStyle.setInteractor(publicAPI);\n        }\n      }\n    }\n  }; //---------------------------------------------------------------------\n\n\n  publicAPI.initialize = function () {\n    model.initialized = true;\n    publicAPI.enable();\n    publicAPI.render();\n  };\n\n  publicAPI.enable = function () {\n    return publicAPI.setEnabled(true);\n  };\n\n  publicAPI.disable = function () {\n    return publicAPI.setEnabled(false);\n  };\n\n  publicAPI.startEventLoop = function () {\n    return vtkWarningMacro('empty event loop');\n  };\n\n  function updateCurrentRenderer(x, y) {\n    if (!model._forcedRenderer) {\n      model.currentRenderer = publicAPI.findPokedRenderer(x, y);\n    }\n  }\n\n  publicAPI.getCurrentRenderer = function () {\n    if (model.currentRenderer) {\n      return model.currentRenderer;\n    }\n\n    updateCurrentRenderer(0, 0);\n    return model.currentRenderer;\n  };\n\n  function getScreenEventPositionFor(source) {\n    var canvas = model._view.getCanvas();\n\n    var bounds = canvas.getBoundingClientRect();\n    var scaleX = canvas.width / bounds.width;\n    var scaleY = canvas.height / bounds.height;\n    var position = {\n      x: scaleX * (source.clientX - bounds.left),\n      y: scaleY * (bounds.height - source.clientY + bounds.top),\n      z: 0\n    }; // if multitouch, do not update the current renderer\n\n    if (pointerCache.size <= 1 || !model.currentRenderer) {\n      updateCurrentRenderer(position.x, position.y);\n    }\n\n    return position;\n  }\n\n  function getModifierKeysFor(event) {\n    return {\n      controlKey: event.ctrlKey,\n      altKey: event.altKey,\n      shiftKey: event.shiftKey\n    };\n  }\n\n  function getKeysFor(event) {\n    var modifierKeys = getModifierKeysFor(event);\n\n    var keys = _objectSpread({\n      key: event.key,\n      keyCode: event.charCode\n    }, modifierKeys);\n\n    return keys;\n  }\n\n  function getDeviceTypeFor(event) {\n    return event.pointerType || '';\n  }\n\n  publicAPI.bindEvents = function (container) {\n    model.container = container;\n    container.addEventListener('contextmenu', preventDefault);\n    container.addEventListener('wheel', publicAPI.handleWheel);\n    container.addEventListener('DOMMouseScroll', publicAPI.handleWheel);\n    container.addEventListener('pointerenter', publicAPI.handlePointerEnter);\n    container.addEventListener('pointerleave', publicAPI.handlePointerLeave);\n    container.addEventListener('pointermove', publicAPI.handlePointerMove, {\n      passive: false\n    });\n    container.addEventListener('pointerdown', publicAPI.handlePointerDown, {\n      passive: false\n    });\n    container.addEventListener('pointerup', publicAPI.handlePointerUp);\n    container.addEventListener('pointercancel', publicAPI.handlePointerCancel);\n    document.addEventListener('keypress', publicAPI.handleKeyPress);\n    document.addEventListener('keydown', publicAPI.handleKeyDown);\n    document.addEventListener('keyup', publicAPI.handleKeyUp);\n    document.addEventListener('pointerlockchange', publicAPI.handlePointerLockChange); // using touchAction is more performant than preventDefault\n    // in a touchstart handler.\n\n    container.style.touchAction = 'none';\n    container.style.userSelect = 'none'; // disables tap highlight for when cursor is pointer\n\n    container.style.webkitTapHighlightColor = 'rgba(0,0,0,0)';\n  };\n\n  publicAPI.unbindEvents = function () {\n    var container = model.container;\n    container.removeEventListener('contextmenu', preventDefault);\n    container.removeEventListener('wheel', publicAPI.handleWheel);\n    container.removeEventListener('DOMMouseScroll', publicAPI.handleWheel);\n    container.removeEventListener('pointerenter', publicAPI.handlePointerEnter);\n    container.removeEventListener('pointerleave', publicAPI.handlePointerLeave);\n    container.removeEventListener('pointermove', publicAPI.handlePointerMove, {\n      passive: false\n    });\n    container.removeEventListener('pointerdown', publicAPI.handlePointerDown, {\n      passive: false\n    });\n    container.removeEventListener('pointerup', publicAPI.handlePointerUp);\n    container.removeEventListener('pointercancel', publicAPI.handlePointerCancel);\n    document.removeEventListener('keypress', publicAPI.handleKeyPress);\n    document.removeEventListener('keydown', publicAPI.handleKeyDown);\n    document.removeEventListener('keyup', publicAPI.handleKeyUp);\n    document.removeEventListener('pointerlockchange', publicAPI.handlePointerLockChange);\n    model.container = null;\n    pointerCache.clear();\n  };\n\n  publicAPI.handleKeyPress = function (event) {\n    var data = getKeysFor(event);\n    publicAPI.keyPressEvent(data);\n  };\n\n  publicAPI.handleKeyDown = function (event) {\n    var data = getKeysFor(event);\n    publicAPI.keyDownEvent(data);\n  };\n\n  publicAPI.handleKeyUp = function (event) {\n    var data = getKeysFor(event);\n    publicAPI.keyUpEvent(data);\n  };\n\n  publicAPI.handlePointerEnter = function (event) {\n    var callData = _objectSpread(_objectSpread({}, getModifierKeysFor(event)), {}, {\n      position: getScreenEventPositionFor(event),\n      deviceType: getDeviceTypeFor(event)\n    });\n\n    publicAPI.pointerEnterEvent(callData);\n\n    if (callData.deviceType === 'mouse') {\n      publicAPI.mouseEnterEvent(callData);\n    }\n  };\n\n  publicAPI.handlePointerLeave = function (event) {\n    var callData = _objectSpread(_objectSpread({}, getModifierKeysFor(event)), {}, {\n      position: getScreenEventPositionFor(event),\n      deviceType: getDeviceTypeFor(event)\n    });\n\n    publicAPI.pointerLeaveEvent(callData);\n\n    if (callData.deviceType === 'mouse') {\n      publicAPI.mouseLeaveEvent(callData);\n    }\n  };\n\n  publicAPI.handlePointerDown = function (event) {\n    if (event.button > 2 || publicAPI.isPointerLocked()) {\n      // ignore events from extra mouse buttons such as `back` and `forward`\n      return;\n    }\n\n    if (model.preventDefaultOnPointerDown) {\n      preventDefault(event);\n    }\n\n    if (event.target.hasPointerCapture(event.pointerId)) {\n      event.target.releasePointerCapture(event.pointerId);\n    }\n\n    model.container.setPointerCapture(event.pointerId);\n\n    if (pointerCache.has(event.pointerId)) {\n      vtkWarningMacro('[RenderWindowInteractor] duplicate pointerId detected');\n    }\n\n    pointerCache.set(event.pointerId, {\n      pointerId: event.pointerId,\n      position: getScreenEventPositionFor(event)\n    });\n\n    switch (event.pointerType) {\n      case 'pen':\n      case 'touch':\n        publicAPI.handleTouchStart(event);\n        break;\n\n      case 'mouse':\n      default:\n        publicAPI.handleMouseDown(event);\n        break;\n    }\n  };\n\n  publicAPI.handlePointerUp = function (event) {\n    if (pointerCache.has(event.pointerId)) {\n      if (model.preventDefaultOnPointerUp) {\n        preventDefault(event);\n      }\n\n      pointerCache.delete(event.pointerId);\n      model.container.releasePointerCapture(event.pointerId);\n\n      switch (event.pointerType) {\n        case 'pen':\n        case 'touch':\n          publicAPI.handleTouchEnd(event);\n          break;\n\n        case 'mouse':\n        default:\n          publicAPI.handleMouseUp(event);\n          break;\n      }\n    }\n  };\n\n  publicAPI.handlePointerCancel = function (event) {\n    if (pointerCache.has(event.pointerId)) {\n      pointerCache.delete(event.pointerId);\n\n      switch (event.pointerType) {\n        case 'pen':\n        case 'touch':\n          publicAPI.handleTouchEnd(event);\n          break;\n\n        case 'mouse':\n        default:\n          publicAPI.handleMouseUp(event);\n          break;\n      }\n    }\n  };\n\n  publicAPI.handlePointerMove = function (event) {\n    if (pointerCache.has(event.pointerId)) {\n      var pointer = pointerCache.get(event.pointerId);\n      pointer.position = getScreenEventPositionFor(event);\n    }\n\n    switch (event.pointerType) {\n      case 'pen':\n      case 'touch':\n        publicAPI.handleTouchMove(event);\n        break;\n\n      case 'mouse':\n      default:\n        publicAPI.handleMouseMove(event);\n        break;\n    }\n  };\n\n  publicAPI.handleMouseDown = function (event) {\n    var callData = _objectSpread(_objectSpread({}, getModifierKeysFor(event)), {}, {\n      position: getScreenEventPositionFor(event),\n      deviceType: getDeviceTypeFor(event)\n    });\n\n    switch (event.button) {\n      case 0:\n        publicAPI.leftButtonPressEvent(callData);\n        break;\n\n      case 1:\n        publicAPI.middleButtonPressEvent(callData);\n        break;\n\n      case 2:\n        publicAPI.rightButtonPressEvent(callData);\n        break;\n\n      default:\n        vtkErrorMacro(\"Unknown mouse button pressed: \".concat(event.button));\n        break;\n    }\n  }; //----------------------------------------------------------------------\n\n\n  publicAPI.requestPointerLock = function () {\n    if (model.container) {\n      model.container.requestPointerLock();\n    }\n  }; //----------------------------------------------------------------------\n\n\n  publicAPI.exitPointerLock = function () {\n    return document.exitPointerLock();\n  }; //----------------------------------------------------------------------\n\n\n  publicAPI.isPointerLocked = function () {\n    return !!model.container && document.pointerLockElement === model.container;\n  }; //----------------------------------------------------------------------\n\n\n  publicAPI.handlePointerLockChange = function () {\n    if (publicAPI.isPointerLocked()) {\n      publicAPI.startPointerLockEvent();\n    } else {\n      publicAPI.endPointerLockEvent();\n    }\n  }; //----------------------------------------------------------------------\n\n\n  function forceRender() {\n    if (model._view && model.enabled && model.enableRender) {\n      model.inRender = true;\n\n      model._view.traverseAllPasses();\n\n      model.inRender = false;\n    } // outside the above test so that third-party code can redirect\n    // the render to the appropriate class\n\n\n    publicAPI.invokeRenderEvent();\n  }\n\n  publicAPI.requestAnimation = function (requestor) {\n    if (requestor === undefined) {\n      vtkErrorMacro(\"undefined requester, can not start animating\");\n      return;\n    }\n\n    if (animationRequesters.has(requestor)) {\n      vtkWarningMacro(\"requester is already registered for animating\");\n      return;\n    }\n\n    animationRequesters.add(requestor);\n\n    if (!model.animationRequest && animationRequesters.size === 1 && !model.xrAnimation) {\n      model._animationStartTime = Date.now();\n      model._animationFrameCount = 0;\n      model.animationRequest = requestAnimationFrame(publicAPI.handleAnimation);\n      publicAPI.startAnimationEvent();\n    }\n  }; // continue animating for at least the specified duration of\n  // milliseconds.\n\n\n  publicAPI.extendAnimation = function (duration) {\n    var newEnd = Date.now() + duration;\n    model._animationExtendedEnd = Math.max(model._animationExtendedEnd, newEnd);\n\n    if (!model.animationRequest && animationRequesters.size === 0 && !model.xrAnimation) {\n      model._animationStartTime = Date.now();\n      model._animationFrameCount = 0;\n      model.animationRequest = requestAnimationFrame(publicAPI.handleAnimation);\n      publicAPI.startAnimationEvent();\n    }\n  };\n\n  publicAPI.isAnimating = function () {\n    return model.xrAnimation || model.animationRequest !== null;\n  };\n\n  publicAPI.cancelAnimation = function (requestor) {\n    var skipWarning = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    if (!animationRequesters.has(requestor)) {\n      if (!skipWarning) {\n        var requestStr = requestor && requestor.getClassName ? requestor.getClassName() : requestor;\n        vtkWarningMacro(\"\".concat(requestStr, \" did not request an animation\"));\n      }\n\n      return;\n    }\n\n    animationRequesters.delete(requestor);\n\n    if (model.animationRequest && animationRequesters.size === 0 && Date.now() > model._animationExtendedEnd) {\n      cancelAnimationFrame(model.animationRequest);\n      model.animationRequest = null;\n      publicAPI.endAnimationEvent();\n      publicAPI.render();\n    }\n  };\n\n  publicAPI.switchToXRAnimation = function () {\n    // cancel existing animation if any\n    if (model.animationRequest) {\n      cancelAnimationFrame(model.animationRequest);\n      model.animationRequest = null;\n    }\n\n    model.xrAnimation = true;\n  };\n\n  publicAPI.returnFromXRAnimation = function () {\n    model.xrAnimation = false;\n\n    if (animationRequesters.size !== 0) {\n      model.recentAnimationFrameRate = 10.0;\n      model.animationRequest = requestAnimationFrame(publicAPI.handleAnimation);\n    }\n  };\n\n  publicAPI.updateXRGamepads = function (xrSession, xrFrame, xrRefSpace) {\n    // watch for when buttons change state and fire events\n    xrSession.inputSources.forEach(function (inputSource) {\n      var gripPose = inputSource.gripSpace == null ? null : xrFrame.getPose(inputSource.gripSpace, xrRefSpace);\n      var gp = inputSource.gamepad;\n      var hand = inputSource.handedness;\n\n      if (gp) {\n        if (!(gp.index in model.lastGamepadValues)) {\n          model.lastGamepadValues[gp.index] = {\n            left: {\n              buttons: {}\n            },\n            right: {\n              buttons: {}\n            },\n            none: {\n              buttons: {}\n            }\n          };\n        }\n\n        for (var b = 0; b < gp.buttons.length; ++b) {\n          if (!(b in model.lastGamepadValues[gp.index][hand].buttons)) {\n            model.lastGamepadValues[gp.index][hand].buttons[b] = false;\n          }\n\n          if (model.lastGamepadValues[gp.index][hand].buttons[b] !== gp.buttons[b].pressed && gripPose != null) {\n            publicAPI.button3DEvent({\n              gamepad: gp,\n              position: gripPose.transform.position,\n              orientation: gripPose.transform.orientation,\n              pressed: gp.buttons[b].pressed,\n              device: inputSource.handedness === 'left' ? Device.LeftController : Device.RightController,\n              input: deviceInputMap[gp.mapping] && deviceInputMap[gp.mapping][b] ? deviceInputMap[gp.mapping][b] : Input.Trigger\n            });\n            model.lastGamepadValues[gp.index][hand].buttons[b] = gp.buttons[b].pressed;\n          }\n\n          if (model.lastGamepadValues[gp.index][hand].buttons[b] && gripPose != null) {\n            publicAPI.move3DEvent({\n              gamepad: gp,\n              position: gripPose.transform.position,\n              orientation: gripPose.transform.orientation,\n              device: inputSource.handedness === 'left' ? Device.LeftController : Device.RightController\n            });\n          }\n        }\n      }\n    });\n  };\n\n  publicAPI.handleMouseMove = function (event) {\n    var callData = _objectSpread(_objectSpread({}, getModifierKeysFor(event)), {}, {\n      position: getScreenEventPositionFor(event),\n      deviceType: getDeviceTypeFor(event)\n    });\n\n    if (model.moveTimeoutID === 0) {\n      publicAPI.startMouseMoveEvent(callData);\n    } else {\n      publicAPI.mouseMoveEvent(callData);\n      clearTimeout(model.moveTimeoutID);\n    } // start a timer to keep us animating while we get mouse move events\n\n\n    model.moveTimeoutID = setTimeout(function () {\n      publicAPI.endMouseMoveEvent();\n      model.moveTimeoutID = 0;\n    }, 200);\n  };\n\n  publicAPI.handleAnimation = function () {\n    var currTime = Date.now();\n    model._animationFrameCount++;\n\n    if (currTime - model._animationStartTime > 1000.0 && model._animationFrameCount > 1) {\n      model.recentAnimationFrameRate = 1000.0 * (model._animationFrameCount - 1) / (currTime - model._animationStartTime);\n      model.lastFrameTime = 1.0 / model.recentAnimationFrameRate;\n      publicAPI.animationFrameRateUpdateEvent();\n      model._animationStartTime = currTime;\n      model._animationFrameCount = 1;\n    }\n\n    publicAPI.animationEvent();\n    forceRender();\n\n    if (animationRequesters.size > 0 || Date.now() < model._animationExtendedEnd) {\n      model.animationRequest = requestAnimationFrame(publicAPI.handleAnimation);\n    } else {\n      cancelAnimationFrame(model.animationRequest);\n      model.animationRequest = null;\n      publicAPI.endAnimationEvent();\n      publicAPI.render();\n    }\n  };\n\n  publicAPI.handleWheel = function (event) {\n    preventDefault(event);\n    /**\n     * wheel event values can vary significantly across browsers, platforms\n     * and devices [1]. `normalizeWheel` uses facebook's solution from their\n     * fixed-data-table repository [2].\n     *\n     * [1] https://developer.mozilla.org/en-US/docs/Web/Events/mousewheel\n     * [2] https://github.com/facebookarchive/fixed-data-table/blob/master/src/vendor_upstream/dom/normalizeWheel.js\n     *\n     * This code will return an object with properties:\n     *\n     *   spinX   -- normalized spin speed (use for zoom) - x plane\n     *   spinY   -- \" - y plane\n     *   pixelX  -- normalized distance (to pixels) - x plane\n     *   pixelY  -- \" - y plane\n     *\n     */\n\n    var callData = _objectSpread(_objectSpread(_objectSpread({}, normalizeWheel(event)), getModifierKeysFor(event)), {}, {\n      position: getScreenEventPositionFor(event),\n      deviceType: getDeviceTypeFor(event)\n    });\n\n    if (model.wheelTimeoutID === 0) {\n      publicAPI.startMouseWheelEvent(callData);\n    } else {\n      publicAPI.mouseWheelEvent(callData);\n      clearTimeout(model.wheelTimeoutID);\n    } // start a timer to keep us animating while we get wheel events\n\n\n    model.wheelTimeoutID = setTimeout(function () {\n      publicAPI.extendAnimation(600);\n      publicAPI.endMouseWheelEvent();\n      model.wheelTimeoutID = 0;\n    }, 200);\n  };\n\n  publicAPI.handleMouseUp = function (event) {\n    var callData = _objectSpread(_objectSpread({}, getModifierKeysFor(event)), {}, {\n      position: getScreenEventPositionFor(event),\n      deviceType: getDeviceTypeFor(event)\n    });\n\n    switch (event.button) {\n      case 0:\n        publicAPI.leftButtonReleaseEvent(callData);\n        break;\n\n      case 1:\n        publicAPI.middleButtonReleaseEvent(callData);\n        break;\n\n      case 2:\n        publicAPI.rightButtonReleaseEvent(callData);\n        break;\n\n      default:\n        vtkErrorMacro(\"Unknown mouse button released: \".concat(event.button));\n        break;\n    }\n  };\n\n  publicAPI.handleTouchStart = function (event) {\n    var pointers = _toConsumableArray(pointerCache.values()); // If multitouch\n\n\n    if (model.recognizeGestures && pointers.length > 1) {\n      var positions = pointerCacheToPositions(pointerCache); // did we just transition to multitouch?\n\n      if (pointers.length === 2) {\n        var callData = _objectSpread(_objectSpread({}, getModifierKeysFor(EMPTY_MOUSE_EVENT)), {}, {\n          position: pointers[0].position,\n          deviceType: getDeviceTypeFor(event)\n        });\n\n        publicAPI.leftButtonReleaseEvent(callData);\n      } // handle the gesture\n\n\n      publicAPI.recognizeGesture('TouchStart', positions);\n    } else if (pointers.length === 1) {\n      var _callData = _objectSpread(_objectSpread({}, getModifierKeysFor(EMPTY_MOUSE_EVENT)), {}, {\n        position: getScreenEventPositionFor(event),\n        deviceType: getDeviceTypeFor(event)\n      });\n\n      publicAPI.leftButtonPressEvent(_callData);\n    }\n  };\n\n  publicAPI.handleTouchMove = function (event) {\n    var pointers = _toConsumableArray(pointerCache.values());\n\n    if (model.recognizeGestures && pointers.length > 1) {\n      var positions = pointerCacheToPositions(pointerCache);\n      publicAPI.recognizeGesture('TouchMove', positions);\n    } else if (pointers.length === 1) {\n      var callData = _objectSpread(_objectSpread({}, getModifierKeysFor(EMPTY_MOUSE_EVENT)), {}, {\n        position: pointers[0].position,\n        deviceType: getDeviceTypeFor(event)\n      });\n\n      publicAPI.mouseMoveEvent(callData);\n    }\n  };\n\n  publicAPI.handleTouchEnd = function (event) {\n    var pointers = _toConsumableArray(pointerCache.values());\n\n    if (model.recognizeGestures) {\n      // No more fingers down\n      if (pointers.length === 0) {\n        var callData = _objectSpread(_objectSpread({}, getModifierKeysFor(EMPTY_MOUSE_EVENT)), {}, {\n          position: getScreenEventPositionFor(event),\n          deviceType: getDeviceTypeFor(event)\n        });\n\n        publicAPI.leftButtonReleaseEvent(callData);\n      } else if (pointers.length === 1) {\n        // If one finger left, end touch and start button press\n        var positions = pointerCacheToPositions(pointerCache);\n        publicAPI.recognizeGesture('TouchEnd', positions);\n\n        var _callData2 = _objectSpread(_objectSpread({}, getModifierKeysFor(EMPTY_MOUSE_EVENT)), {}, {\n          position: pointers[0].position,\n          deviceType: getDeviceTypeFor(event)\n        });\n\n        publicAPI.leftButtonPressEvent(_callData2);\n      } else {\n        // If more than one finger left, keep touch move\n        var _positions = pointerCacheToPositions(pointerCache);\n\n        publicAPI.recognizeGesture('TouchMove', _positions);\n      }\n    } else if (pointers.length === 1) {\n      var _callData3 = _objectSpread(_objectSpread({}, getModifierKeysFor(EMPTY_MOUSE_EVENT)), {}, {\n        position: pointers[0].position,\n        deviceType: getDeviceTypeFor(event)\n      });\n\n      publicAPI.leftButtonReleaseEvent(_callData3);\n    }\n  };\n\n  publicAPI.setView = function (val) {\n    if (model._view === val) {\n      return;\n    }\n\n    model._view = val;\n\n    model._view.getRenderable().setInteractor(publicAPI);\n\n    publicAPI.modified();\n  };\n\n  publicAPI.getFirstRenderer = function () {\n    var _model$_view, _model$_view$getRende, _model$_view$getRende2;\n\n    return (_model$_view = model._view) === null || _model$_view === void 0 ? void 0 : (_model$_view$getRende = _model$_view.getRenderable()) === null || _model$_view$getRende === void 0 ? void 0 : (_model$_view$getRende2 = _model$_view$getRende.getRenderersByReference()) === null || _model$_view$getRende2 === void 0 ? void 0 : _model$_view$getRende2[0];\n  };\n\n  publicAPI.findPokedRenderer = function () {\n    var _model$_view2, _model$_view2$getRend;\n\n    var x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n    if (!model._view) {\n      return null;\n    } // The original order of renderers needs to remain as\n    // the first one is the one we want to manipulate the camera on.\n\n\n    var rc = (_model$_view2 = model._view) === null || _model$_view2 === void 0 ? void 0 : (_model$_view2$getRend = _model$_view2.getRenderable()) === null || _model$_view2$getRend === void 0 ? void 0 : _model$_view2$getRend.getRenderers();\n\n    if (!rc) {\n      return null;\n    }\n\n    rc.sort(function (a, b) {\n      return a.getLayer() - b.getLayer();\n    });\n    var interactiveren = null;\n    var viewportren = null;\n    var currentRenderer = null;\n    var count = rc.length;\n\n    while (count--) {\n      var aren = rc[count];\n\n      if (model._view.isInViewport(x, y, aren) && aren.getInteractive()) {\n        currentRenderer = aren;\n        break;\n      }\n\n      if (interactiveren === null && aren.getInteractive()) {\n        // Save this renderer in case we can't find one in the viewport that\n        // is interactive.\n        interactiveren = aren;\n      }\n\n      if (viewportren === null && model._view.isInViewport(x, y, aren)) {\n        // Save this renderer in case we can't find one in the viewport that\n        // is interactive.\n        viewportren = aren;\n      }\n    } // We must have a value.  If we found an interactive renderer before, that's\n    // better than a non-interactive renderer.\n\n\n    if (currentRenderer === null) {\n      currentRenderer = interactiveren;\n    } // We must have a value.  If we found a renderer that is in the viewport,\n    // that is better than any old viewport (but not as good as an interactive\n    // one).\n\n\n    if (currentRenderer === null) {\n      currentRenderer = viewportren;\n    } // We must have a value - take anything.\n\n\n    if (currentRenderer == null) {\n      currentRenderer = rc[0];\n    }\n\n    return currentRenderer;\n  }; // only render if we are not animating. If we are animating\n  // then renders will happen naturally anyhow and we definitely\n  // do not want extra renders as the make the apparent interaction\n  // rate slower.\n\n\n  publicAPI.render = function () {\n    if (!publicAPI.isAnimating() && !model.inRender) {\n      forceRender();\n    }\n  }; // create the generic Event methods\n\n\n  handledEvents.forEach(function (eventName) {\n    var lowerFirst = eventName.charAt(0).toLowerCase() + eventName.slice(1);\n\n    publicAPI[\"\".concat(lowerFirst, \"Event\")] = function (arg) {\n      // Check that interactor enabled\n      if (!model.enabled) {\n        return;\n      } // Check that a poked renderer exists\n\n\n      var renderer = publicAPI.getCurrentRenderer();\n\n      if (!renderer) {\n        vtkOnceErrorMacro(\"\\n          Can not forward events without a current renderer on the interactor.\\n        \");\n        return;\n      } // Pass the eventName and the poked renderer\n\n\n      var callData = _objectSpread({\n        type: eventName,\n        pokedRenderer: model.currentRenderer,\n        firstRenderer: publicAPI.getFirstRenderer()\n      }, arg); // Call invoke\n\n\n      publicAPI[\"invoke\".concat(eventName)](callData);\n    };\n  }); // we know we are in multitouch now, so start recognizing\n\n  publicAPI.recognizeGesture = function (event, positions) {\n    // more than two pointers we ignore\n    if (Object.keys(positions).length > 2) {\n      return;\n    }\n\n    if (!model.startingEventPositions) {\n      model.startingEventPositions = {};\n    } // store the initial positions\n\n\n    if (event === 'TouchStart') {\n      Object.keys(positions).forEach(function (key) {\n        model.startingEventPositions[key] = positions[key];\n      }); // we do not know what the gesture is yet\n\n      model.currentGesture = 'Start';\n      return;\n    } // end the gesture if needed\n\n\n    if (event === 'TouchEnd') {\n      if (model.currentGesture === 'Pinch') {\n        publicAPI.render();\n        publicAPI.endPinchEvent();\n      }\n\n      if (model.currentGesture === 'Rotate') {\n        publicAPI.render();\n        publicAPI.endRotateEvent();\n      }\n\n      if (model.currentGesture === 'Pan') {\n        publicAPI.render();\n        publicAPI.endPanEvent();\n      }\n\n      model.currentGesture = 'Start';\n      model.startingEventPositions = {};\n      return;\n    } // what are the two pointers we are working with\n\n\n    var count = 0;\n    var posVals = [];\n    var startVals = [];\n    Object.keys(positions).forEach(function (key) {\n      posVals[count] = positions[key];\n      startVals[count] = model.startingEventPositions[key];\n      count++;\n    }); // The meat of the algorithm\n    // on move events we analyze them to determine what type\n    // of movement it is and then deal with it.\n    // calculate the distances\n\n    var originalDistance = Math.sqrt((startVals[0].x - startVals[1].x) * (startVals[0].x - startVals[1].x) + (startVals[0].y - startVals[1].y) * (startVals[0].y - startVals[1].y));\n    var newDistance = Math.sqrt((posVals[0].x - posVals[1].x) * (posVals[0].x - posVals[1].x) + (posVals[0].y - posVals[1].y) * (posVals[0].y - posVals[1].y)); // calculate rotations\n\n    var originalAngle = degreesFromRadians(Math.atan2(startVals[1].y - startVals[0].y, startVals[1].x - startVals[0].x));\n    var newAngle = degreesFromRadians(Math.atan2(posVals[1].y - posVals[0].y, posVals[1].x - posVals[0].x)); // angles are cyclic so watch for that, 1 and 359 are only 2 apart :)\n\n    var angleDeviation = newAngle - originalAngle;\n    newAngle = newAngle + 180.0 >= 360.0 ? newAngle - 180.0 : newAngle + 180.0;\n    originalAngle = originalAngle + 180.0 >= 360.0 ? originalAngle - 180.0 : originalAngle + 180.0;\n\n    if (Math.abs(newAngle - originalAngle) < Math.abs(angleDeviation)) {\n      angleDeviation = newAngle - originalAngle;\n    } // calculate the translations\n\n\n    var trans = [];\n    trans[0] = (posVals[0].x - startVals[0].x + posVals[1].x - startVals[1].x) / 2.0;\n    trans[1] = (posVals[0].y - startVals[0].y + posVals[1].y - startVals[1].y) / 2.0;\n\n    if (event === 'TouchMove') {\n      // OK we want to\n      // - immediately respond to the user\n      // - allow the user to zoom without panning (saves focal point)\n      // - allow the user to rotate without panning (saves focal point)\n      // do we know what gesture we are doing yet? If not\n      // see if we can figure it out\n      if (model.currentGesture === 'Start') {\n        // pinch is a move to/from the center point\n        // rotate is a move along the circumference\n        // pan is a move of the center point\n        // compute the distance along each of these axes in pixels\n        // the first to break thresh wins\n        var thresh = 0.01 * Math.sqrt(model.container.clientWidth * model.container.clientWidth + model.container.clientHeight * model.container.clientHeight);\n\n        if (thresh < 15.0) {\n          thresh = 15.0;\n        }\n\n        var pinchDistance = Math.abs(newDistance - originalDistance);\n        var rotateDistance = newDistance * 3.1415926 * Math.abs(angleDeviation) / 360.0;\n        var panDistance = Math.sqrt(trans[0] * trans[0] + trans[1] * trans[1]);\n\n        if (pinchDistance > thresh && pinchDistance > rotateDistance && pinchDistance > panDistance) {\n          model.currentGesture = 'Pinch';\n          var callData = {\n            scale: 1.0,\n            touches: positions\n          };\n          publicAPI.startPinchEvent(callData);\n        } else if (rotateDistance > thresh && rotateDistance > panDistance) {\n          model.currentGesture = 'Rotate';\n          var _callData4 = {\n            rotation: 0.0,\n            touches: positions\n          };\n          publicAPI.startRotateEvent(_callData4);\n        } else if (panDistance > thresh) {\n          model.currentGesture = 'Pan';\n          var _callData5 = {\n            translation: [0, 0],\n            touches: positions\n          };\n          publicAPI.startPanEvent(_callData5);\n        }\n      } else {\n        // if we have found a specific type of movement then\n        // handle it\n        if (model.currentGesture === 'Rotate') {\n          var _callData6 = {\n            rotation: angleDeviation,\n            touches: positions\n          };\n          publicAPI.rotateEvent(_callData6);\n        }\n\n        if (model.currentGesture === 'Pinch') {\n          var _callData7 = {\n            scale: newDistance / originalDistance,\n            touches: positions\n          };\n          publicAPI.pinchEvent(_callData7);\n        }\n\n        if (model.currentGesture === 'Pan') {\n          var _callData8 = {\n            translation: trans,\n            touches: positions\n          };\n          publicAPI.panEvent(_callData8);\n        }\n      }\n    }\n  };\n\n  publicAPI.handleVisibilityChange = function () {\n    model._animationStartTime = Date.now();\n    model._animationFrameCount = 0;\n  };\n\n  publicAPI.setCurrentRenderer = function (r) {\n    model._forcedRenderer = !!r;\n    model.currentRenderer = r;\n  }; // Stop animating if the renderWindowInteractor is deleted.\n\n\n  var superDelete = publicAPI.delete;\n\n  publicAPI.delete = function () {\n    while (animationRequesters.size) {\n      publicAPI.cancelAnimation(animationRequesters.values().next().value);\n    }\n\n    if (typeof document.hidden !== 'undefined') {\n      document.removeEventListener('visibilitychange', publicAPI.handleVisibilityChange);\n    }\n\n    superDelete();\n  }; // Use the Page Visibility API to detect when we switch away from or back to\n  // this tab, and reset the animationFrameStart. When tabs are not active, browsers\n  // will stop calling requestAnimationFrame callbacks.\n\n\n  if (typeof document.hidden !== 'undefined') {\n    document.addEventListener('visibilitychange', publicAPI.handleVisibilityChange, false);\n  }\n} // ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\n\nvar DEFAULT_VALUES = {\n  renderWindow: null,\n  interactorStyle: null,\n  picker: null,\n  pickingManager: null,\n  initialized: false,\n  enabled: false,\n  enableRender: true,\n  currentRenderer: null,\n  lightFollowCamera: true,\n  desiredUpdateRate: 30.0,\n  stillUpdateRate: 2.0,\n  container: null,\n  // _view: null,\n  recognizeGestures: true,\n  currentGesture: 'Start',\n  animationRequest: null,\n  lastFrameTime: 0.1,\n  recentAnimationFrameRate: 10.0,\n  wheelTimeoutID: 0,\n  moveTimeoutID: 0,\n  lastGamepadValues: {},\n  preventDefaultOnPointerDown: false,\n  preventDefaultOnPointerUp: false\n}; // ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  var initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues); // Object methods\n\n  macro.obj(publicAPI, model); // run animation at least until this time\n\n  model._animationExtendedEnd = 0;\n  macro.event(publicAPI, model, 'RenderEvent');\n  handledEvents.forEach(function (eventName) {\n    return macro.event(publicAPI, model, eventName);\n  }); // Create get-only macros\n\n  macro.get(publicAPI, model, ['initialized', 'container', 'interactorStyle', 'lastFrameTime', 'recentAnimationFrameRate', '_view']); // Create get-set macros\n\n  macro.setGet(publicAPI, model, ['lightFollowCamera', 'enabled', 'enableRender', 'recognizeGestures', 'desiredUpdateRate', 'stillUpdateRate', 'picker', 'preventDefaultOnPointerDown', 'preventDefaultOnPointerUp']);\n  macro.moveToProtected(publicAPI, model, ['view']); // For more macro methods, see \"Sources/macros.js\"\n  // Object specific methods\n\n  vtkRenderWindowInteractor(publicAPI, model);\n} // ----------------------------------------------------------------------------\n\nvar newInstance = macro.newInstance(extend, 'vtkRenderWindowInteractor'); // ----------------------------------------------------------------------------\n\nvar vtkRenderWindowInteractor$1 = _objectSpread({\n  newInstance: newInstance,\n  extend: extend,\n  handledEvents: handledEvents\n}, Constants);\n\nexport { vtkRenderWindowInteractor$1 as default, extend, newInstance };\n"],
  "mappings": "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",
  "names": ["Device", "Input"]
}
